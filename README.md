# java-blackjack
블랙잭 게임 미션 저장소

## 미션 회고 및 학습 내용
### 미션 포인트 ⏰ 
   - 추상 클래스와 인터페이스를 활용한다
   - 상속보단 조합을 사용하여 개발한다. (상속과 조합의 차이)
   - 불변 객체에 대해 학습하고 이를 적용한다.
   - 필요한 로직은 도메인에 작성하고 이를 활용한다.
   - 기능별로 패키지 분리
### 학습 내용 📖
   - List에서 특정 값을 계속 제거하는 경우 LinkedList를 사용하는 것이 낫다.
   - Enum을 활용하여 추가 카드여부를 제한한다.
   - BiFunction과 Enum을 활용해서, 블랙잭 룰을 관리했다.
   - Player와 Dealer의 공통된 부분을 Gamer로 분리하여 관리한다. (차이가 나는 부분만 상속한다)
   - Enum은 스스로를 초기화하지 않은 상태로 자신을 사용할 수 없다.(A라는 Enum내에서 A를 다시 사용 - java: illegal forward reference, java: self-reference in initializer)
   - Factory Method는 일관된 규칙의 네이밍을 사용하자
        - of, from, valueOf : 자기 자신을 반환하는 메서드 네이밍 규칙
        - create,type,new type : 자기 자신이 아닌 적합한 다른 형태의 객체를 반환하는 형태
   - 예외는 적절한 메세지와 함께 반환하자.
   - 객체는 어플을 이루는 단위지만 각각이 독립적이다. 즉 특정 입력이나 출력에 종속적인 형태로 설계하면 안된다.
   - 객체가 의존하고 있는 관계가 애매하다면, 변화에 유연한지 고민해봐라 아래의 두 관계는 모두 적절하다 할 수 있지만 변경엔 후자가 조금 더 유연하다.
        - Score와 Gamer의 관계 
        - GameResult와 Score의 관계

### 아직 어려운 개념들 😂
   - 상태패턴을 통해서 이를 구현할 수도 있는데, 이 부분은 아직 어려워서 도입하지 못했다..
   - 객체의 연관관계는 참 어렵다.. Score는 Gamer와 의존하더라도, GameResult와 의존하더라도 자연스러운 것 같다
   - 변화의 관점에서 생각하는 연습을 하자.
   - Dto와 VO의 차이를 명확히 하자

---

## 게임 소개
블랙잭 게임을 변형한 프로그램을 구현한다. 블랙잭 게임은 딜러와 플레이어 중 카드의 합이 21 또는 21에 가장 가까운 숫자를 가지는 쪽이 이기는 게임이다.
플레이어는 게임을 시작할 때 배팅 금액을 정해야 한다. 카드의 숫자 계산은 카드 숫자를 기본으로 하며, 예외로 Ace는 1 또는 11로 계산할 수 있으며, King, Queen, Jack은 각각 10으로 계산한다.
게임을 시작하면 플레이어는 두 장의 카드를 지급 받으며, 두 장의 카드 숫자를 합쳐 21을 초과하지 않으면서 21에 가깝게 만들면 이긴다. 21을 넘지 않을 경우 원한다면 얼마든지 카드를 계속 뽑을 수 있다. 단, 카드를 추가로 뽑아 21을 초과할 경우 배팅 금액을 모두 잃게 된다.
딜러는 처음에 받은 2장의 합계가 16이하이면 반드시 1장의 카드를 추가로 받아야 하고, 17점 이상이면 추가로 받을 수 없다.
게임을 완료한 후 각 플레이어별로 승패를 출력한다.

## 기능 요구 사항

### Domain

- 입력 받은 이름으로 유저들을 생성한다. (유저만)
    - 입력 받은 문자열이 null 또는 공백인지 검증
- 딜러와 유저에게 두장의 카드를 분배한다.
- 추가 지급을 원하는 지 물어본다.
    - 유저는 현재 카드의 총합이 21 미만인 경우
    - 딜러는 16이하인 경우에 받고 17이상인 경우는 받지 않는다 (자동)
- 플레이어들의 결과를 계산한다. 
    - ACE 계산
    - 딜러와 유저 비교
        - 딜러 >= 유저 : 딜러 1승추가 그리고 패배
        - 딜러 < 유저 : 딜러 1패추가 그리고 승리     

### View

- 이름을 입력 받는다. (쉼표로 분리)
- 분배 받은 카드를 각각 출력한다.
- Y / N 을 입력 받는다.
- 추가 분배를 받는 경우 다시 카드 목록을 출력한다. (사용자, 딜러 둘다)
- 모든 카드 및 합을 출력하고 최종 승패를 출력한다.


## 구현 순서 (TDD)

- [x] Symbol
- [x] Type
- [x] Card
- [x] Cards
- [x] Player
- [x] Deck
- [x] Dealer
- [x] Participant
- [x] Results
